<Crumb>
	<Crumb::Item @link="docs">Documentation</Crumb::Item>
	<Crumb::Item @link="docs.surrealql">SurrealQL</Crumb::Item>
	<Crumb::Item @link="docs.surrealql.statements">Statements</Crumb::Item>
	<Crumb::Item @link="docs.surrealql.statements.define"><code>DEFINE</code> statement</Crumb::Item>
	<Crumb::Item @link="docs.surrealql.statements.define.event"><code>EVENT</code></Crumb::Item>
</Crumb>

<Layout::Text text-l text-f>
	<h2><code>DEFINE EVENT</code> statement</h2>
	<p>
		Events can be triggered after any change or modification to the data in a record. Each trigger is able to see
		the <code>$before</code> and <code>$after</code> value of the record, enabling advanced custom logic with each trigger.
	</p>
	<Docs::Heading @level="4" @id="requirements">Requirements</Docs::Heading>
	<ul>
		<li>You must be authenticated as a root, namespace, or database user before you can use the <code>DEFINE EVENT</code> statement.</li>
		<li><LinkTo @route="docs.surrealql.statements.use">You must select your namespace and database</LinkTo> before you can use the <code>DEFINE EVENT</code> statement.</li>
	</ul>
</Layout::Text>

<Layout::Gap mini />

<Layout::Text text-l text-f>
	<Docs::Heading @level="4" @id="syntax">Statement syntax</Docs::Heading>
	<Code @name="docs/surrealql/statements/define/event/syntax.typescript" text="SQL Syntax" />
</Layout::Text>

<Layout::Gap mini />

<Layout::Text text-l text-f>
	<Docs::Heading @level="3" @id="examples">Example usage</Docs::Heading>
	<p>
		Below is an example showing how to create an event which upon updating a user's email address will create an
		entry recording the change on an <code>event</code> table.
	</p>
	<Code @name="docs/surrealql/statements/define/event/event.surql" />

	<h3 id="specific-events">Specific events</h3>
	<p>
		You can trigger events based on specific events. You can use the variable <code>$event</code> to detect what type of event is triggered on the table.
	</p>
	<Code @name="docs/surrealql/statements/define/event/event-variable.surql" />
</Layout::Text>

<Layout::Gap large />